<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>

    </style>
</head>
<body>
<input type="text" id="city" placeholder="Enter city (optional)">
<button id="get-weather">Get Weather</button>
<div id="weather"></div>

<script>

    // API: https://api.open-meteo.com/v1/forecast?latitude=24.8607&longitude=67.0011&current_weather=true
    const weatherBtn = document.getElementById('get-weather');
    const weatherDiv = document.getElementById('weather');

    weatherBtn.addEventListener('click', async () => {
        try {
            // 1. fetch the data from API (donâ€™t forget to await)
            const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=33.68&longitude=73.05&current_weather=true`)
            // 2. convert response to JSON
            const result = await response.json();
            // 3. log the result to see its structure in console
            console.log(result);
            // 4. grab the "temperature" from result.current_weather
            const currentTemperature = result.current_weather.temperature;
            // 5. clear weatherDiv (if it has old data)
            if (weatherDiv.children.length > 0){
                weatherDiv.innerHTML = '';
            }
            // 6. create an element (e.g. <p>) and set its text to temperature
            const p = document.createElement('p');
            p.textContent = `Temperature: ${currentTemperature}`;
            // 7. append that element inside weatherDiv
            weatherDiv.appendChild(p);
        }
        catch(err) {
            console.log(err);
        }
    });




</script>

</body>
</html>